<!DOCTYPE html>

<html lang="zh-Hans" prefix="og: https://ogp.me/ns#">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>使用Makru和makru_langc管理现代C项目编译：引入&目录</title>
    <link href="/page.css" rel="stylesheet"/>
    <script type="module" src="/page.js"></script>
  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    
<div class="nav-wrapper">
  <nav class="site">
    <div>
      <h6>使用Makru和makru_langc管理现代C项目编译：引入&目录</h6>
    </div>
    <div>
      
        <a href="/">所有文章</a>
      
        <a href="/archives">归档</a>
      
    </div>
  </nav>
</div>

    <div id="_layout">
      <div></div>
      <main class="content">
        <h1>使用Makru和makru_langc管理现代C项目编译：引入&目录</h1>
        <div class="page-metadata">
          <span>
            <time data-time-format="iso" datetime="2020-12-26T13:21:13+00:00">2020-12-26T13:21:13+00:00</time>
            创建</span>
          <span>
            <time data-time-format="iso" datetime="2021-01-05T02:35:00+00:00">2021-01-05T02:35:00+00:00</time>
            更新</span>
          
        </div>
        <p><a target="_blank" rel="noopener" href="https://gitlab.com/jinwa/makru">Makru</a>是一个用Python编写的全新编译工具。它的目的不是提供更多的编译逻辑，而是提供一个统一的平台方便开发和引入新的编译逻辑。Makru和目前主流的make-like编译系统最大的不同点再于：它没有使用类似宏语法之类的东西为配置文件提供超高的灵活性，而是直接选择了很多现代包管理工具正在使用的结构化数据配置文件（Makru使用的是yaml）。<a target="_blank" rel="noopener" href="https://gitlab.com/jinwa/makru_langc">makru_langc</a>就是在它之上构建的C语言项目编译插件。<br>得益于这样的选择，makru_langc提供了非常流畅的编译管理体验。你可以快速理解并编辑配置文件，而不是在配置文件的海洋里晕头转向。另外，makru_langc还支持高自由度的自定义，你甚至可以利用它提供的工具编写自己的编译逻辑。</p>
<p>这个文章系列将会介绍一个用makru_langc来管理编译的小演示项目scat，它接收标准输入然后输出到标准输出。为了演示makru_langc的功能，scat会有一个子项目叫libcopy。这个子项目里只有一个函数：从第一个File输入，输出到第二个File。</p>
<span id="more"></span>

<p>makru_langc还自带直接从本地pkgconfig查询第三方库的功能，最后一篇文章会覆盖到这个特性，并以此说明如何为makru_langc编写自己的库查询逻辑。</p>
<h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><p>文章中的开发环境是运行于Linux 5.9.15 x86_64之上的Fedora 33，Python 3.9以及Clang 11.0。Makru的版本是v0.1.0（最新beta版本），makru_langc的版本是尚未发布的r1（你可以直接检出master分支）。</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="/2021/01/04/makru-tutor-2/" title="使用Makru和makru_langc管理现代C项目编译： 配置Makru和makru_langc">配置Makru和makru_langc</a></li>
<li>为可执行文件项目编写配置文件</li>
<li>为库项目编写配置文件</li>
<li>使用Pkgconfig Dependency Resolver引入第三方库</li>
<li>makru_langc的基本工作流程</li>
<li>编写一个基于命令行输入的Dependency Resolver</li>
<li>makru_langc代码阅读指引</li>
</ul>

      </main>
      <div></div>
    </div>
  <!-- hexo injector body_end start --><!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "05f36e0cb3b74781a5755bd4224e252a"}'></script><!-- End Cloudflare Web Analytics --><!-- hexo injector body_end end --></body>
</html>

