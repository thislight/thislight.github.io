var Fi=Object.defineProperty,Ei=Object.defineProperties;var Ti=Object.getOwnPropertyDescriptors;var Yt=Object.getOwnPropertySymbols;var Li=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable;var Xt=(E,h,u)=>h in E?Fi(E,h,{enumerable:!0,configurable:!0,writable:!0,value:u}):E[h]=u,ve=(E,h)=>{for(var u in h||(h={}))Li.call(h,u)&&Xt(E,u,h[u]);if(Yt)for(var u of Yt(h))Pi.call(h,u)&&Xt(E,u,h[u]);return E},he=(E,h)=>Ei(E,Ti(h));import{W as Bi,q as yr,z as Ar,v as Vr,X as Ai,m as zi,r as je,t as Oi}from"./index.13b310ab.js";var Nt={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(E,h){(function(u,v){E.exports=v()})(Bi,function(){for(var u=function(r,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),r<e?e:r>a?a:r},v=u,M=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=v(r[e],0,255)):e===3&&(r[e]=v(r[e],0,1));return r},U={},P=0,H=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];P<H.length;P+=1){var nr=H[P];U["[object "+nr+"]"]=nr.toLowerCase()}var K=function(r){return U[Object.prototype.toString.call(r)]||"object"},hr=K,fr=function(r,e){return e===void 0&&(e=null),r.length>=3?Array.prototype.slice.call(r):hr(r[0])=="object"&&e?e.split("").filter(function(a){return r[0][a]!==void 0}).map(function(a){return r[0][a]}):r[0]},Q=K,zr=function(r){if(r.length<2)return null;var e=r.length-1;return Q(r[e])=="string"?r[e].toLowerCase():null},ur=Math.PI,m={clip_rgb:M,limit:u,type:K,unpack:fr,last:zr,PI:ur,TWOPI:ur*2,PITHIRD:ur/3,DEG2RAD:ur/180,RAD2DEG:180/ur},I={format:{},autodetect:[]},gr=m.last,A=m.clip_rgb,Or=m.type,dr=I,Ur=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var t=this;if(Or(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var o=gr(e),f=!1;if(!o){f=!0,dr.sorted||(dr.autodetect=dr.autodetect.sort(function(g,y){return y.p-g.p}),dr.sorted=!0);for(var n=0,i=dr.autodetect;n<i.length;n+=1){var l=i[n];if(o=l.test.apply(l,e),o)break}}if(dr.format[o]){var c=dr.format[o].apply(null,f?e:e.slice(0,-1));t._rgb=A(c)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)};Ur.prototype.toString=function(){return Or(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var C=Ur,Xr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Xr.Color,[null].concat(r)))};Xr.Color=C,Xr.version="2.4.2";var Z=Xr,Zr=m.unpack,Jr=Math.max,pr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Zr(r,"rgb"),t=a[0],o=a[1],f=a[2];t=t/255,o=o/255,f=f/255;var n=1-Jr(t,Jr(o,f)),i=n<1?1/(1-n):0,l=(1-t-n)*i,c=(1-o-n)*i,g=(1-f-n)*i;return[l,c,g,n]},de=pr,pe=m.unpack,be=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=pe(r,"cmyk");var a=r[0],t=r[1],o=r[2],f=r[3],n=r.length>4?r[4]:1;return f===1?[0,0,0,n]:[a>=1?0:255*(1-a)*(1-f),t>=1?0:255*(1-t)*(1-f),o>=1?0:255*(1-o)*(1-f),n]},me=be,ye=Z,Qr=C,jr=I,Kr=m.unpack,re=m.type,ee=de;Qr.prototype.cmyk=function(){return ee(this._rgb)},ye.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Qr,[null].concat(r,["cmyk"])))},jr.format.cmyk=me,jr.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Kr(r,"cmyk"),re(r)==="array"&&r.length===4)return"cmyk"}});var we=m.unpack,$e=m.last,Wr=function(r){return Math.round(r*100)/100},ke=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=we(r,"hsla"),t=$e(r)||"lsa";return a[0]=Wr(a[0]||0),a[1]=Wr(a[1]*100)+"%",a[2]=Wr(a[2]*100)+"%",t==="hsla"||a.length>3&&a[3]<1?(a[3]=a.length>3?a[3]:1,t="hsla"):a.length=3,t+"("+a.join(",")+")"},ae=ke,_e=m.unpack,xe=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=_e(r,"rgba");var a=r[0],t=r[1],o=r[2];a/=255,t/=255,o/=255;var f=Math.min(a,t,o),n=Math.max(a,t,o),i=(n+f)/2,l,c;return n===f?(l=0,c=Number.NaN):l=i<.5?(n-f)/(n+f):(n-f)/(2-n-f),a==n?c=(t-o)/(n-f):t==n?c=2+(o-a)/(n-f):o==n&&(c=4+(a-t)/(n-f)),c*=60,c<0&&(c+=360),r.length>3&&r[3]!==void 0?[c,l,i,r[3]]:[c,l,i]},qr=xe,s=m.unpack,b=m.last,w=ae,_=qr,S=Math.round,B=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=s(r,"rgba"),t=b(r)||"rgb";return t.substr(0,3)=="hsl"?w(_(a),t):(a[0]=S(a[0]),a[1]=S(a[1]),a[2]=S(a[2]),(t==="rgba"||a.length>3&&a[3]<1)&&(a[3]=a.length>3?a[3]:1,t="rgba"),t+"("+a.slice(0,t==="rgb"?3:4).join(",")+")")},Y=B,J=m.unpack,or=Math.round,wr=function(){for(var r,e=[],a=arguments.length;a--;)e[a]=arguments[a];e=J(e,"hsl");var t=e[0],o=e[1],f=e[2],n,i,l;if(o===0)n=i=l=f*255;else{var c=[0,0,0],g=[0,0,0],y=f<.5?f*(1+o):f+o-f*o,d=2*f-y,k=t/360;c[0]=k+1/3,c[1]=k,c[2]=k-1/3;for(var $=0;$<3;$++)c[$]<0&&(c[$]+=1),c[$]>1&&(c[$]-=1),6*c[$]<1?g[$]=d+(y-d)*6*c[$]:2*c[$]<1?g[$]=y:3*c[$]<2?g[$]=d+(y-d)*(2/3-c[$])*6:g[$]=d;r=[or(g[0]*255),or(g[1]*255),or(g[2]*255)],n=r[0],i=r[1],l=r[2]}return e.length>3?[n,i,l,e[3]]:[n,i,l,1]},ra=wr,ea=ra,aa=I,ta=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,na=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,oa=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,fa=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ia=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ua=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,la=Math.round,sa=function(r){r=r.toLowerCase().trim();var e;if(aa.format.named)try{return aa.format.named(r)}catch{}if(e=r.match(ta)){for(var a=e.slice(1,4),t=0;t<3;t++)a[t]=+a[t];return a[3]=1,a}if(e=r.match(na)){for(var o=e.slice(1,5),f=0;f<4;f++)o[f]=+o[f];return o}if(e=r.match(oa)){for(var n=e.slice(1,4),i=0;i<3;i++)n[i]=la(n[i]*2.55);return n[3]=1,n}if(e=r.match(fa)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=la(l[c]*2.55);return l[3]=+l[3],l}if(e=r.match(ia)){var g=e.slice(1,4);g[1]*=.01,g[2]*=.01;var y=ea(g);return y[3]=1,y}if(e=r.match(ua)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var k=ea(d);return k[3]=+e[4],k}};sa.test=function(r){return ta.test(r)||na.test(r)||oa.test(r)||fa.test(r)||ia.test(r)||ua.test(r)};var Rt=sa,St=Z,ca=C,va=I,Dt=m.type,Ft=Y,ha=Rt;ca.prototype.css=function(r){return Ft(this._rgb,r)},St.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ca,[null].concat(r,["css"])))},va.format.css=ha,va.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Dt(r)==="string"&&ha.test(r))return"css"}});var ga=C,Et=Z,Tt=I,Lt=m.unpack;Tt.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Lt(r,"rgba");return a[0]*=255,a[1]*=255,a[2]*=255,a},Et.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ga,[null].concat(r,["gl"])))},ga.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var Pt=m.unpack,Bt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Pt(r,"rgb"),t=a[0],o=a[1],f=a[2],n=Math.min(t,o,f),i=Math.max(t,o,f),l=i-n,c=l*100/255,g=n/(255-l)*100,y;return l===0?y=Number.NaN:(t===i&&(y=(o-f)/l),o===i&&(y=2+(f-t)/l),f===i&&(y=4+(t-o)/l),y*=60,y<0&&(y+=360)),[y,c,g]},At=Bt,zt=m.unpack,Ot=Math.floor,Wt=function(){for(var r,e,a,t,o,f,n=[],i=arguments.length;i--;)n[i]=arguments[i];n=zt(n,"hcg");var l=n[0],c=n[1],g=n[2],y,d,k;g=g*255;var $=c*255;if(c===0)y=d=k=g;else{l===360&&(l=0),l>360&&(l-=360),l<0&&(l+=360),l/=60;var X=Ot(l),D=l-X,T=g*(1-c),z=T+$*(1-D),ar=T+$*D,er=T+$;switch(X){case 0:r=[er,ar,T],y=r[0],d=r[1],k=r[2];break;case 1:e=[z,er,T],y=e[0],d=e[1],k=e[2];break;case 2:a=[T,er,ar],y=a[0],d=a[1],k=a[2];break;case 3:t=[T,z,er],y=t[0],d=t[1],k=t[2];break;case 4:o=[ar,T,er],y=o[0],d=o[1],k=o[2];break;case 5:f=[er,T,z],y=f[0],d=f[1],k=f[2];break}}return[y,d,k,n.length>3?n[3]:1]},qt=Wt,Ht=m.unpack,It=m.type,Gt=Z,da=C,pa=I,Vt=At;da.prototype.hcg=function(){return Vt(this._rgb)},Gt.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(da,[null].concat(r,["hcg"])))},pa.format.hcg=qt,pa.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ht(r,"hcg"),It(r)==="array"&&r.length===3)return"hcg"}});var Ut=m.unpack,Zt=m.last,te=Math.round,Jt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ut(r,"rgba"),t=a[0],o=a[1],f=a[2],n=a[3],i=Zt(r)||"auto";n===void 0&&(n=1),i==="auto"&&(i=n<1?"rgba":"rgb"),t=te(t),o=te(o),f=te(f);var l=t<<16|o<<8|f,c="000000"+l.toString(16);c=c.substr(c.length-6);var g="0"+te(n*255).toString(16);switch(g=g.substr(g.length-2),i.toLowerCase()){case"rgba":return"#"+c+g;case"argb":return"#"+g+c;default:return"#"+c}},ba=Jt,Qt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,jt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Kt=function(r){if(r.match(Qt)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16),a=e>>16,t=e>>8&255,o=e&255;return[a,t,o,1]}if(r.match(jt)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var f=parseInt(r,16),n=f>>24&255,i=f>>16&255,l=f>>8&255,c=Math.round((f&255)/255*100)/100;return[n,i,l,c]}throw new Error("unknown hex color: "+r)},ma=Kt,rn=Z,ya=C,en=m.type,wa=I,an=ba;ya.prototype.hex=function(r){return an(this._rgb,r)},rn.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ya,[null].concat(r,["hex"])))},wa.format.hex=ma,wa.autodetect.push({p:4,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&en(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var tn=m.unpack,$a=m.TWOPI,nn=Math.min,on=Math.sqrt,fn=Math.acos,un=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=tn(r,"rgb"),t=a[0],o=a[1],f=a[2];t/=255,o/=255,f/=255;var n,i=nn(t,o,f),l=(t+o+f)/3,c=l>0?1-i/l:0;return c===0?n=NaN:(n=(t-o+(t-f))/2,n/=on((t-o)*(t-o)+(t-f)*(o-f)),n=fn(n),f>o&&(n=$a-n),n/=$a),[n*360,c,l]},ln=un,sn=m.unpack,Me=m.limit,Nr=m.TWOPI,Ce=m.PITHIRD,Rr=Math.cos,cn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=sn(r,"hsi");var a=r[0],t=r[1],o=r[2],f,n,i;return isNaN(a)&&(a=0),isNaN(t)&&(t=0),a>360&&(a-=360),a<0&&(a+=360),a/=360,a<1/3?(i=(1-t)/3,f=(1+t*Rr(Nr*a)/Rr(Ce-Nr*a))/3,n=1-(i+f)):a<2/3?(a-=1/3,f=(1-t)/3,n=(1+t*Rr(Nr*a)/Rr(Ce-Nr*a))/3,i=1-(f+n)):(a-=2/3,n=(1-t)/3,i=(1+t*Rr(Nr*a)/Rr(Ce-Nr*a))/3,f=1-(n+i)),f=Me(o*f*3),n=Me(o*n*3),i=Me(o*i*3),[f*255,n*255,i*255,r.length>3?r[3]:1]},vn=cn,hn=m.unpack,gn=m.type,dn=Z,ka=C,_a=I,pn=ln;ka.prototype.hsi=function(){return pn(this._rgb)},dn.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ka,[null].concat(r,["hsi"])))},_a.format.hsi=vn,_a.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=hn(r,"hsi"),gn(r)==="array"&&r.length===3)return"hsi"}});var bn=m.unpack,mn=m.type,yn=Z,xa=C,Ma=I,wn=qr;xa.prototype.hsl=function(){return wn(this._rgb)},yn.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(xa,[null].concat(r,["hsl"])))},Ma.format.hsl=ra,Ma.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=bn(r,"hsl"),mn(r)==="array"&&r.length===3)return"hsl"}});var $n=m.unpack,kn=Math.min,_n=Math.max,xn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=$n(r,"rgb");var a=r[0],t=r[1],o=r[2],f=kn(a,t,o),n=_n(a,t,o),i=n-f,l,c,g;return g=n/255,n===0?(l=Number.NaN,c=0):(c=i/n,a===n&&(l=(t-o)/i),t===n&&(l=2+(o-a)/i),o===n&&(l=4+(a-t)/i),l*=60,l<0&&(l+=360)),[l,c,g]},Mn=xn,Cn=m.unpack,Yn=Math.floor,Xn=function(){for(var r,e,a,t,o,f,n=[],i=arguments.length;i--;)n[i]=arguments[i];n=Cn(n,"hsv");var l=n[0],c=n[1],g=n[2],y,d,k;if(g*=255,c===0)y=d=k=g;else{l===360&&(l=0),l>360&&(l-=360),l<0&&(l+=360),l/=60;var $=Yn(l),X=l-$,D=g*(1-c),T=g*(1-c*X),z=g*(1-c*(1-X));switch($){case 0:r=[g,z,D],y=r[0],d=r[1],k=r[2];break;case 1:e=[T,g,D],y=e[0],d=e[1],k=e[2];break;case 2:a=[D,g,z],y=a[0],d=a[1],k=a[2];break;case 3:t=[D,T,g],y=t[0],d=t[1],k=t[2];break;case 4:o=[z,D,g],y=o[0],d=o[1],k=o[2];break;case 5:f=[g,D,T],y=f[0],d=f[1],k=f[2];break}}return[y,d,k,n.length>3?n[3]:1]},Nn=Xn,Rn=m.unpack,Sn=m.type,Dn=Z,Ca=C,Ya=I,Fn=Mn;Ca.prototype.hsv=function(){return Fn(this._rgb)},Dn.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ca,[null].concat(r,["hsv"])))},Ya.format.hsv=Nn,Ya.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Rn(r,"hsv"),Sn(r)==="array"&&r.length===3)return"hsv"}});var ne={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Sr=ne,En=m.unpack,Xa=Math.pow,Tn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=En(r,"rgb"),t=a[0],o=a[1],f=a[2],n=Ln(t,o,f),i=n[0],l=n[1],c=n[2],g=116*l-16;return[g<0?0:g,500*(i-l),200*(l-c)]},Ye=function(r){return(r/=255)<=.04045?r/12.92:Xa((r+.055)/1.055,2.4)},Xe=function(r){return r>Sr.t3?Xa(r,1/3):r/Sr.t2+Sr.t0},Ln=function(r,e,a){r=Ye(r),e=Ye(e),a=Ye(a);var t=Xe((.4124564*r+.3575761*e+.1804375*a)/Sr.Xn),o=Xe((.2126729*r+.7151522*e+.072175*a)/Sr.Yn),f=Xe((.0193339*r+.119192*e+.9503041*a)/Sr.Zn);return[t,o,f]},Na=Tn,Dr=ne,Pn=m.unpack,Bn=Math.pow,An=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Pn(r,"lab");var a=r[0],t=r[1],o=r[2],f,n,i,l,c,g;return n=(a+16)/116,f=isNaN(t)?n:n+t/500,i=isNaN(o)?n:n-o/200,n=Dr.Yn*Re(n),f=Dr.Xn*Re(f),i=Dr.Zn*Re(i),l=Ne(3.2404542*f-1.5371385*n-.4985314*i),c=Ne(-.969266*f+1.8760108*n+.041556*i),g=Ne(.0556434*f-.2040259*n+1.0572252*i),[l,c,g,r.length>3?r[3]:1]},Ne=function(r){return 255*(r<=.00304?12.92*r:1.055*Bn(r,1/2.4)-.055)},Re=function(r){return r>Dr.t1?r*r*r:Dr.t2*(r-Dr.t0)},Ra=An,zn=m.unpack,On=m.type,Wn=Z,Sa=C,Da=I,qn=Na;Sa.prototype.lab=function(){return qn(this._rgb)},Wn.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Sa,[null].concat(r,["lab"])))},Da.format.lab=Ra,Da.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=zn(r,"lab"),On(r)==="array"&&r.length===3)return"lab"}});var Hn=m.unpack,In=m.RAD2DEG,Gn=Math.sqrt,Vn=Math.atan2,Un=Math.round,Zn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Hn(r,"lab"),t=a[0],o=a[1],f=a[2],n=Gn(o*o+f*f),i=(Vn(f,o)*In+360)%360;return Un(n*1e4)===0&&(i=Number.NaN),[t,n,i]},Fa=Zn,Jn=m.unpack,Qn=Na,jn=Fa,Kn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Jn(r,"rgb"),t=a[0],o=a[1],f=a[2],n=Qn(t,o,f),i=n[0],l=n[1],c=n[2];return jn(i,l,c)},ro=Kn,eo=m.unpack,ao=m.DEG2RAD,to=Math.sin,no=Math.cos,oo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=eo(r,"lch"),t=a[0],o=a[1],f=a[2];return isNaN(f)&&(f=0),f=f*ao,[t,no(f)*o,to(f)*o]},Ea=oo,fo=m.unpack,io=Ea,uo=Ra,lo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=fo(r,"lch");var a=r[0],t=r[1],o=r[2],f=io(a,t,o),n=f[0],i=f[1],l=f[2],c=uo(n,i,l),g=c[0],y=c[1],d=c[2];return[g,y,d,r.length>3?r[3]:1]},Ta=lo,so=m.unpack,co=Ta,vo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=so(r,"hcl").reverse();return co.apply(void 0,a)},ho=vo,go=m.unpack,po=m.type,La=Z,oe=C,Se=I,Pa=ro;oe.prototype.lch=function(){return Pa(this._rgb)},oe.prototype.hcl=function(){return Pa(this._rgb).reverse()},La.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(oe,[null].concat(r,["lch"])))},La.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(oe,[null].concat(r,["hcl"])))},Se.format.lch=Ta,Se.format.hcl=ho,["lch","hcl"].forEach(function(r){return Se.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=go(e,r),po(e)==="array"&&e.length===3)return r}})});var bo={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ba=bo,mo=C,Aa=I,yo=m.type,Hr=Ba,wo=ma,$o=ba;mo.prototype.name=function(){for(var r=$o(this._rgb,"rgb"),e=0,a=Object.keys(Hr);e<a.length;e+=1){var t=a[e];if(Hr[t]===r)return t.toLowerCase()}return r},Aa.format.named=function(r){if(r=r.toLowerCase(),Hr[r])return wo(Hr[r]);throw new Error("unknown color name: "+r)},Aa.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&yo(r)==="string"&&Hr[r.toLowerCase()])return"named"}});var ko=m.unpack,_o=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ko(r,"rgb"),t=a[0],o=a[1],f=a[2];return(t<<16)+(o<<8)+f},xo=_o,Mo=m.type,Co=function(r){if(Mo(r)=="number"&&r>=0&&r<=16777215){var e=r>>16,a=r>>8&255,t=r&255;return[e,a,t,1]}throw new Error("unknown num color: "+r)},Yo=Co,Xo=Z,za=C,Oa=I,No=m.type,Ro=xo;za.prototype.num=function(){return Ro(this._rgb)},Xo.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(za,[null].concat(r,["num"])))},Oa.format.num=Yo,Oa.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r.length===1&&No(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var So=Z,De=C,Wa=I,qa=m.unpack,Ha=m.type,Ia=Math.round;De.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ia)},De.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(e,a){return a<3?r===!1?e:Ia(e):e})},So.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(De,[null].concat(r,["rgb"])))},Wa.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=qa(r,"rgba");return a[3]===void 0&&(a[3]=1),a},Wa.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=qa(r,"rgba"),Ha(r)==="array"&&(r.length===3||r.length===4&&Ha(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var fe=Math.log,Do=function(r){var e=r/100,a,t,o;return e<66?(a=255,t=e<6?0:-155.25485562709179-.44596950469579133*(t=e-2)+104.49216199393888*fe(t),o=e<20?0:-254.76935184120902+.8274096064007395*(o=e-10)+115.67994401066147*fe(o)):(a=351.97690566805693+.114206453784165*(a=e-55)-40.25366309332127*fe(a),t=325.4494125711974+.07943456536662342*(t=e-50)-28.0852963507957*fe(t),o=255),[a,t,o,1]},Ga=Do,Fo=Ga,Eo=m.unpack,To=Math.round,Lo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var a=Eo(r,"rgb"),t=a[0],o=a[2],f=1e3,n=4e4,i=.4,l;n-f>i;){l=(n+f)*.5;var c=Fo(l);c[2]/c[0]>=o/t?n=l:f=l}return To(l)},Po=Lo,Fe=Z,ie=C,Ee=I,Bo=Po;ie.prototype.temp=ie.prototype.kelvin=ie.prototype.temperature=function(){return Bo(this._rgb)},Fe.temp=Fe.kelvin=Fe.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ie,[null].concat(r,["temp"])))},Ee.format.temp=Ee.format.kelvin=Ee.format.temperature=Ga;var Ao=m.unpack,Te=Math.cbrt,zo=Math.pow,Oo=Math.sign,Wo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ao(r,"rgb"),t=a[0],o=a[1],f=a[2],n=[Le(t/255),Le(o/255),Le(f/255)],i=n[0],l=n[1],c=n[2],g=Te(.4122214708*i+.5363325363*l+.0514459929*c),y=Te(.2119034982*i+.6806995451*l+.1073969566*c),d=Te(.0883024619*i+.2817188376*l+.6299787005*c);return[.2104542553*g+.793617785*y-.0040720468*d,1.9779984951*g-2.428592205*y+.4505937099*d,.0259040371*g+.7827717662*y-.808675766*d]},Va=Wo;function Le(r){var e=Math.abs(r);return e<.04045?r/12.92:(Oo(r)||1)*zo((e+.055)/1.055,2.4)}var qo=m.unpack,ue=Math.pow,Ho=Math.sign,Io=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=qo(r,"lab");var a=r[0],t=r[1],o=r[2],f=ue(a+.3963377774*t+.2158037573*o,3),n=ue(a-.1055613458*t-.0638541728*o,3),i=ue(a-.0894841775*t-1.291485548*o,3);return[255*Pe(4.0767416621*f-3.3077115913*n+.2309699292*i),255*Pe(-1.2684380046*f+2.6097574011*n-.3413193965*i),255*Pe(-.0041960863*f-.7034186147*n+1.707614701*i),r.length>3?r[3]:1]},Ua=Io;function Pe(r){var e=Math.abs(r);return e>.0031308?(Ho(r)||1)*(1.055*ue(e,1/2.4)-.055):r*12.92}var Go=m.unpack,Vo=m.type,Uo=Z,Za=C,Ja=I,Zo=Va;Za.prototype.oklab=function(){return Zo(this._rgb)},Uo.oklab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Za,[null].concat(r,["oklab"])))},Ja.format.oklab=Ua,Ja.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Go(r,"oklab"),Vo(r)==="array"&&r.length===3)return"oklab"}});var Jo=m.unpack,Qo=Va,jo=Fa,Ko=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Jo(r,"rgb"),t=a[0],o=a[1],f=a[2],n=Qo(t,o,f),i=n[0],l=n[1],c=n[2];return jo(i,l,c)},rf=Ko,ef=m.unpack,af=Ea,tf=Ua,nf=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ef(r,"lch");var a=r[0],t=r[1],o=r[2],f=af(a,t,o),n=f[0],i=f[1],l=f[2],c=tf(n,i,l),g=c[0],y=c[1],d=c[2];return[g,y,d,r.length>3?r[3]:1]},of=nf,ff=m.unpack,uf=m.type,lf=Z,Qa=C,ja=I,sf=rf;Qa.prototype.oklch=function(){return sf(this._rgb)},lf.oklch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Qa,[null].concat(r,["oklch"])))},ja.format.oklch=of,ja.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ff(r,"oklch"),uf(r)==="array"&&r.length===3)return"oklch"}});var Ka=C,cf=m.type;Ka.prototype.alpha=function(r,e){return e===void 0&&(e=!1),r!==void 0&&cf(r)==="number"?e?(this._rgb[3]=r,this):new Ka([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var vf=C;vf.prototype.clipped=function(){return this._rgb._clipped||!1};var Mr=C,hf=ne;Mr.prototype.darken=function(r){r===void 0&&(r=1);var e=this,a=e.lab();return a[0]-=hf.Kn*r,new Mr(a,"lab").alpha(e.alpha(),!0)},Mr.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},Mr.prototype.darker=Mr.prototype.darken,Mr.prototype.brighter=Mr.prototype.brighten;var gf=C;gf.prototype.get=function(r){var e=r.split("."),a=e[0],t=e[1],o=this[a]();if(t){var f=a.indexOf(t)-(a.substr(0,2)==="ok"?2:0);if(f>-1)return o[f];throw new Error("unknown channel "+t+" in mode "+a)}else return o};var Fr=C,df=m.type,pf=Math.pow,bf=1e-7,mf=20;Fr.prototype.luminance=function(r){if(r!==void 0&&df(r)==="number"){if(r===0)return new Fr([0,0,0,this._rgb[3]],"rgb");if(r===1)return new Fr([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),a="rgb",t=mf,o=function(n,i){var l=n.interpolate(i,.5,a),c=l.luminance();return Math.abs(r-c)<bf||!t--?l:c>r?o(n,l):o(l,i)},f=(e>r?o(new Fr([0,0,0]),this):o(this,new Fr([255,255,255]))).rgb();return new Fr(f.concat([this._rgb[3]]))}return yf.apply(void 0,this._rgb.slice(0,3))};var yf=function(r,e,a){return r=Be(r),e=Be(e),a=Be(a),.2126*r+.7152*e+.0722*a},Be=function(r){return r/=255,r<=.03928?r/12.92:pf((r+.055)/1.055,2.4)},lr={},rt=C,et=m.type,le=lr,at=function(r,e,a){a===void 0&&(a=.5);for(var t=[],o=arguments.length-3;o-- >0;)t[o]=arguments[o+3];var f=t[0]||"lrgb";if(!le[f]&&!t.length&&(f=Object.keys(le)[0]),!le[f])throw new Error("interpolation mode "+f+" is not defined");return et(r)!=="object"&&(r=new rt(r)),et(e)!=="object"&&(e=new rt(e)),le[f](r,e,a).alpha(r.alpha()+a*(e.alpha()-r.alpha()))},tt=C,wf=at;tt.prototype.mix=tt.prototype.interpolate=function(r,e){e===void 0&&(e=.5);for(var a=[],t=arguments.length-2;t-- >0;)a[t]=arguments[t+2];return wf.apply(void 0,[this,r,e].concat(a))};var nt=C;nt.prototype.premultiply=function(r){r===void 0&&(r=!1);var e=this._rgb,a=e[3];return r?(this._rgb=[e[0]*a,e[1]*a,e[2]*a,a],this):new nt([e[0]*a,e[1]*a,e[2]*a,a],"rgb")};var Ae=C,$f=ne;Ae.prototype.saturate=function(r){r===void 0&&(r=1);var e=this,a=e.lch();return a[1]+=$f.Kn*r,a[1]<0&&(a[1]=0),new Ae(a,"lch").alpha(e.alpha(),!0)},Ae.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var ot=C,ft=m.type;ot.prototype.set=function(r,e,a){a===void 0&&(a=!1);var t=r.split("."),o=t[0],f=t[1],n=this[o]();if(f){var i=o.indexOf(f)-(o.substr(0,2)==="ok"?2:0);if(i>-1){if(ft(e)=="string")switch(e.charAt(0)){case"+":n[i]+=+e;break;case"-":n[i]+=+e;break;case"*":n[i]*=+e.substr(1);break;case"/":n[i]/=+e.substr(1);break;default:n[i]=+e}else if(ft(e)==="number")n[i]=e;else throw new Error("unsupported value for Color.set");var l=new ot(n,o);return a?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+f+" in mode "+o)}else return n};var kf=C,_f=function(r,e,a){var t=r._rgb,o=e._rgb;return new kf(t[0]+a*(o[0]-t[0]),t[1]+a*(o[1]-t[1]),t[2]+a*(o[2]-t[2]),"rgb")};lr.rgb=_f;var xf=C,ze=Math.sqrt,Er=Math.pow,Mf=function(r,e,a){var t=r._rgb,o=t[0],f=t[1],n=t[2],i=e._rgb,l=i[0],c=i[1],g=i[2];return new xf(ze(Er(o,2)*(1-a)+Er(l,2)*a),ze(Er(f,2)*(1-a)+Er(c,2)*a),ze(Er(n,2)*(1-a)+Er(g,2)*a),"rgb")};lr.lrgb=Mf;var Cf=C,Yf=function(r,e,a){var t=r.lab(),o=e.lab();return new Cf(t[0]+a*(o[0]-t[0]),t[1]+a*(o[1]-t[1]),t[2]+a*(o[2]-t[2]),"lab")};lr.lab=Yf;var it=C,Tr=function(r,e,a,t){var o,f,n,i;t==="hsl"?(n=r.hsl(),i=e.hsl()):t==="hsv"?(n=r.hsv(),i=e.hsv()):t==="hcg"?(n=r.hcg(),i=e.hcg()):t==="hsi"?(n=r.hsi(),i=e.hsi()):t==="lch"||t==="hcl"?(t="hcl",n=r.hcl(),i=e.hcl()):t==="oklch"&&(n=r.oklch().reverse(),i=e.oklch().reverse());var l,c,g,y,d,k;(t.substr(0,1)==="h"||t==="oklch")&&(o=n,l=o[0],g=o[1],d=o[2],f=i,c=f[0],y=f[1],k=f[2]);var $,X,D,T;return!isNaN(l)&&!isNaN(c)?(c>l&&c-l>180?T=c-(l+360):c<l&&l-c>180?T=c+360-l:T=c-l,X=l+a*T):isNaN(l)?isNaN(c)?X=Number.NaN:(X=c,(d==1||d==0)&&t!="hsv"&&($=y)):(X=l,(k==1||k==0)&&t!="hsv"&&($=g)),$===void 0&&($=g+a*(y-g)),D=d+a*(k-d),t==="oklch"?new it([D,$,X],t):new it([X,$,D],t)},Xf=Tr,ut=function(r,e,a){return Xf(r,e,a,"lch")};lr.lch=ut,lr.hcl=ut;var Nf=C,Rf=function(r,e,a){var t=r.num(),o=e.num();return new Nf(t+a*(o-t),"num")};lr.num=Rf;var Sf=Tr,Df=function(r,e,a){return Sf(r,e,a,"hcg")};lr.hcg=Df;var Ff=Tr,Ef=function(r,e,a){return Ff(r,e,a,"hsi")};lr.hsi=Ef;var Tf=Tr,Lf=function(r,e,a){return Tf(r,e,a,"hsl")};lr.hsl=Lf;var Pf=Tr,Bf=function(r,e,a){return Pf(r,e,a,"hsv")};lr.hsv=Bf;var Af=C,zf=function(r,e,a){var t=r.oklab(),o=e.oklab();return new Af(t[0]+a*(o[0]-t[0]),t[1]+a*(o[1]-t[1]),t[2]+a*(o[2]-t[2]),"oklab")};lr.oklab=zf;var Of=Tr,Wf=function(r,e,a){return Of(r,e,a,"oklch")};lr.oklch=Wf;var Oe=C,qf=m.clip_rgb,We=Math.pow,qe=Math.sqrt,He=Math.PI,lt=Math.cos,st=Math.sin,Hf=Math.atan2,If=function(r,e,a){e===void 0&&(e="lrgb"),a===void 0&&(a=null);var t=r.length;a||(a=Array.from(new Array(t)).map(function(){return 1}));var o=t/a.reduce(function(X,D){return X+D});if(a.forEach(function(X,D){a[D]*=o}),r=r.map(function(X){return new Oe(X)}),e==="lrgb")return Gf(r,a);for(var f=r.shift(),n=f.get(e),i=[],l=0,c=0,g=0;g<n.length;g++)if(n[g]=(n[g]||0)*a[0],i.push(isNaN(n[g])?0:a[0]),e.charAt(g)==="h"&&!isNaN(n[g])){var y=n[g]/180*He;l+=lt(y)*a[0],c+=st(y)*a[0]}var d=f.alpha()*a[0];r.forEach(function(X,D){var T=X.get(e);d+=X.alpha()*a[D+1];for(var z=0;z<n.length;z++)if(!isNaN(T[z]))if(i[z]+=a[D+1],e.charAt(z)==="h"){var ar=T[z]/180*He;l+=lt(ar)*a[D+1],c+=st(ar)*a[D+1]}else n[z]+=T[z]*a[D+1]});for(var k=0;k<n.length;k++)if(e.charAt(k)==="h"){for(var $=Hf(c/i[k],l/i[k])/He*180;$<0;)$+=360;for(;$>=360;)$-=360;n[k]=$}else n[k]=n[k]/i[k];return d/=t,new Oe(n,e).alpha(d>.99999?1:d,!0)},Gf=function(r,e){for(var a=r.length,t=[0,0,0,0],o=0;o<r.length;o++){var f=r[o],n=e[o]/a,i=f._rgb;t[0]+=We(i[0],2)*n,t[1]+=We(i[1],2)*n,t[2]+=We(i[2],2)*n,t[3]+=i[3]*n}return t[0]=qe(t[0]),t[1]=qe(t[1]),t[2]=qe(t[2]),t[3]>.9999999&&(t[3]=1),new Oe(qf(t))},sr=Z,Lr=m.type,Vf=Math.pow,Ie=function(r){var e="rgb",a=sr("#ccc"),t=0,o=[0,1],f=[],n=[0,0],i=!1,l=[],c=!1,g=0,y=1,d=!1,k={},$=!0,X=1,D=function(p){if(p=p||["#fff","#000"],p&&Lr(p)==="string"&&sr.brewer&&sr.brewer[p.toLowerCase()]&&(p=sr.brewer[p.toLowerCase()]),Lr(p)==="array"){p.length===1&&(p=[p[0],p[0]]),p=p.slice(0);for(var x=0;x<p.length;x++)p[x]=sr(p[x]);f.length=0;for(var R=0;R<p.length;R++)f.push(R/(p.length-1))}return ir(),l=p},T=function(p){if(i!=null){for(var x=i.length-1,R=0;R<x&&p>=i[R];)R++;return R-1}return 0},z=function(p){return p},ar=function(p){return p},er=function(p,x){var R,N;if(x==null&&(x=!1),isNaN(p)||p===null)return a;if(x)N=p;else if(i&&i.length>2){var tr=T(p);N=tr/(i.length-2)}else y!==g?N=(p-g)/(y-g):N=1;N=ar(N),x||(N=z(N)),X!==1&&(N=Vf(N,X)),N=n[0]+N*(1-n[0]-n[1]),N=Math.min(1,Math.max(0,N));var G=Math.floor(N*1e4);if($&&k[G])R=k[G];else{if(Lr(l)==="array")for(var L=0;L<f.length;L++){var O=f[L];if(N<=O){R=l[L];break}if(N>=O&&L===f.length-1){R=l[L];break}if(N>O&&N<f[L+1]){N=(N-O)/(f[L+1]-O),R=sr.interpolate(l[L],l[L+1],N,e);break}}else Lr(l)==="function"&&(R=l(N));$&&(k[G]=R)}return R},ir=function(){return k={}};D(r);var F=function(p){var x=sr(er(p));return c&&x[c]?x[c]():x};return F.classes=function(p){if(p!=null){if(Lr(p)==="array")i=p,o=[p[0],p[p.length-1]];else{var x=sr.analyze(o);p===0?i=[x.min,x.max]:i=sr.limits(x,"e",p)}return F}return i},F.domain=function(p){if(!arguments.length)return o;g=p[0],y=p[p.length-1],f=[];var x=l.length;if(p.length===x&&g!==y)for(var R=0,N=Array.from(p);R<N.length;R+=1){var tr=N[R];f.push((tr-g)/(y-g))}else{for(var G=0;G<x;G++)f.push(G/(x-1));if(p.length>2){var L=p.map(function(W,q){return q/(p.length-1)}),O=p.map(function(W){return(W-g)/(y-g)});O.every(function(W,q){return L[q]===W})||(ar=function(W){if(W<=0||W>=1)return W;for(var q=0;W>=O[q+1];)q++;var vr=(W-O[q])/(O[q+1]-O[q]),_r=L[q]+vr*(L[q+1]-L[q]);return _r})}}return o=[g,y],F},F.mode=function(p){return arguments.length?(e=p,ir(),F):e},F.range=function(p,x){return D(p),F},F.out=function(p){return c=p,F},F.spread=function(p){return arguments.length?(t=p,F):t},F.correctLightness=function(p){return p==null&&(p=!0),d=p,ir(),d?z=function(x){for(var R=er(0,!0).lab()[0],N=er(1,!0).lab()[0],tr=R>N,G=er(x,!0).lab()[0],L=R+(N-R)*x,O=G-L,W=0,q=1,vr=20;Math.abs(O)>.01&&vr-- >0;)(function(){return tr&&(O*=-1),O<0?(W=x,x+=(q-x)*.5):(q=x,x+=(W-x)*.5),G=er(x,!0).lab()[0],O=G-L})();return x}:z=function(x){return x},F},F.padding=function(p){return p!=null?(Lr(p)==="number"&&(p=[p,p]),n=p,F):n},F.colors=function(p,x){arguments.length<2&&(x="hex");var R=[];if(arguments.length===0)R=l.slice(0);else if(p===1)R=[F(.5)];else if(p>1){var N=o[0],tr=o[1]-N;R=Uf(0,p,!1).map(function(q){return F(N+q/(p-1)*tr)})}else{r=[];var G=[];if(i&&i.length>2)for(var L=1,O=i.length,W=1<=O;W?L<O:L>O;W?L++:L--)G.push((i[L-1]+i[L])*.5);else G=o;R=G.map(function(q){return F(q)})}return sr[x]&&(R=R.map(function(q){return q[x]()})),R},F.cache=function(p){return p!=null?($=p,F):$},F.gamma=function(p){return p!=null?(X=p,F):X},F.nodata=function(p){return p!=null?(a=sr(p),F):a},F};function Uf(r,e,a){for(var t=[],o=r<e,f=a?o?e+1:e-1:e,n=r;o?n<f:n>f;o?n++:n--)t.push(n);return t}var Ir=C,Zf=Ie,Jf=function(r){for(var e=[1,1],a=1;a<r;a++){for(var t=[1],o=1;o<=e.length;o++)t[o]=(e[o]||0)+e[o-1];e=t}return e},Qf=function(r){var e,a,t,o,f,n,i;if(r=r.map(function(d){return new Ir(d)}),r.length===2)e=r.map(function(d){return d.lab()}),f=e[0],n=e[1],o=function(d){var k=[0,1,2].map(function($){return f[$]+d*(n[$]-f[$])});return new Ir(k,"lab")};else if(r.length===3)a=r.map(function(d){return d.lab()}),f=a[0],n=a[1],i=a[2],o=function(d){var k=[0,1,2].map(function($){return(1-d)*(1-d)*f[$]+2*(1-d)*d*n[$]+d*d*i[$]});return new Ir(k,"lab")};else if(r.length===4){var l;t=r.map(function(d){return d.lab()}),f=t[0],n=t[1],i=t[2],l=t[3],o=function(d){var k=[0,1,2].map(function($){return(1-d)*(1-d)*(1-d)*f[$]+3*(1-d)*(1-d)*d*n[$]+3*(1-d)*d*d*i[$]+d*d*d*l[$]});return new Ir(k,"lab")}}else if(r.length>=5){var c,g,y;c=r.map(function(d){return d.lab()}),y=r.length-1,g=Jf(y),o=function(d){var k=1-d,$=[0,1,2].map(function(X){return c.reduce(function(D,T,z){return D+g[z]*Math.pow(k,y-z)*Math.pow(d,z)*T[X]},0)});return new Ir($,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return o},jf=function(r){var e=Qf(r);return e.scale=function(){return Zf(e)},e},Ge=Z,cr=function(r,e,a){if(!cr[a])throw new Error("unknown blend mode "+a);return cr[a](r,e)},$r=function(r){return function(e,a){var t=Ge(a).rgb(),o=Ge(e).rgb();return Ge.rgb(r(t,o))}},kr=function(r){return function(e,a){var t=[];return t[0]=r(e[0],a[0]),t[1]=r(e[1],a[1]),t[2]=r(e[2],a[2]),t}},Kf=function(r){return r},ri=function(r,e){return r*e/255},ei=function(r,e){return r>e?e:r},ai=function(r,e){return r>e?r:e},ti=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},ni=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},oi=function(r,e){return 255*(1-(1-e/255)/(r/255))},fi=function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)};cr.normal=$r(kr(Kf)),cr.multiply=$r(kr(ri)),cr.screen=$r(kr(ti)),cr.overlay=$r(kr(ni)),cr.darken=$r(kr(ei)),cr.lighten=$r(kr(ai)),cr.dodge=$r(kr(fi)),cr.burn=$r(kr(oi));for(var ii=cr,Ve=m.type,ui=m.clip_rgb,li=m.TWOPI,si=Math.pow,ci=Math.sin,vi=Math.cos,ct=Z,hi=function(r,e,a,t,o){r===void 0&&(r=300),e===void 0&&(e=-1.5),a===void 0&&(a=1),t===void 0&&(t=1),o===void 0&&(o=[0,1]);var f=0,n;Ve(o)==="array"?n=o[1]-o[0]:(n=0,o=[o,o]);var i=function(l){var c=li*((r+120)/360+e*l),g=si(o[0]+n*l,t),y=f!==0?a[0]+l*f:a,d=y*g*(1-g)/2,k=vi(c),$=ci(c),X=g+d*(-.14861*k+1.78277*$),D=g+d*(-.29227*k-.90649*$),T=g+d*(1.97294*k);return ct(ui([X*255,D*255,T*255,1]))};return i.start=function(l){return l==null?r:(r=l,i)},i.rotations=function(l){return l==null?e:(e=l,i)},i.gamma=function(l){return l==null?t:(t=l,i)},i.hue=function(l){return l==null?a:(a=l,Ve(a)==="array"?(f=a[1]-a[0],f===0&&(a=a[1])):f=0,i)},i.lightness=function(l){return l==null?o:(Ve(l)==="array"?(o=l,n=l[1]-l[0]):(o=[l,l],n=0),i)},i.scale=function(){return ct.scale(i)},i.hue(a),i},gi=C,di="0123456789abcdef",pi=Math.floor,bi=Math.random,mi=function(){for(var r="#",e=0;e<6;e++)r+=di.charAt(pi(bi()*16));return new gi(r,"hex")},Ue=K,vt=Math.log,yi=Math.pow,wi=Math.floor,$i=Math.abs,ht=function(r,e){e===void 0&&(e=null);var a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Ue(r)==="object"&&(r=Object.values(r)),r.forEach(function(t){e&&Ue(t)==="object"&&(t=t[e]),t!=null&&!isNaN(t)&&(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)}),a.domain=[a.min,a.max],a.limits=function(t,o){return gt(a,t,o)},a},gt=function(r,e,a){e===void 0&&(e="equal"),a===void 0&&(a=7),Ue(r)=="array"&&(r=ht(r));var t=r.min,o=r.max,f=r.values.sort(function(Je,Qe){return Je-Qe});if(a===1)return[t,o];var n=[];if(e.substr(0,1)==="c"&&(n.push(t),n.push(o)),e.substr(0,1)==="e"){n.push(t);for(var i=1;i<a;i++)n.push(t+i/a*(o-t));n.push(o)}else if(e.substr(0,1)==="l"){if(t<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*vt(t),c=Math.LOG10E*vt(o);n.push(t);for(var g=1;g<a;g++)n.push(yi(10,l+g/a*(c-l)));n.push(o)}else if(e.substr(0,1)==="q"){n.push(t);for(var y=1;y<a;y++){var d=(f.length-1)*y/a,k=wi(d);if(k===d)n.push(f[k]);else{var $=d-k;n.push(f[k]*(1-$)+f[k+1]*$)}}n.push(o)}else if(e.substr(0,1)==="k"){var X,D=f.length,T=new Array(D),z=new Array(a),ar=!0,er=0,ir=null;ir=[],ir.push(t);for(var F=1;F<a;F++)ir.push(t+F/a*(o-t));for(ir.push(o);ar;){for(var p=0;p<a;p++)z[p]=0;for(var x=0;x<D;x++)for(var R=f[x],N=Number.MAX_VALUE,tr=void 0,G=0;G<a;G++){var L=$i(ir[G]-R);L<N&&(N=L,tr=G),z[tr]++,T[x]=tr}for(var O=new Array(a),W=0;W<a;W++)O[W]=null;for(var q=0;q<D;q++)X=T[q],O[X]===null?O[X]=f[q]:O[X]+=f[q];for(var vr=0;vr<a;vr++)O[vr]*=1/z[vr];ar=!1;for(var _r=0;_r<a;_r++)if(O[_r]!==ir[_r]){ar=!0;break}ir=O,er++,er>200&&(ar=!1)}for(var xr={},Pr=0;Pr<a;Pr++)xr[Pr]=[];for(var Br=0;Br<D;Br++)X=T[Br],xr[X].push(f[Br]);for(var mr=[],Cr=0;Cr<a;Cr++)mr.push(xr[Cr][0]),mr.push(xr[Cr][xr[Cr].length-1]);mr=mr.sort(function(Je,Qe){return Je-Qe}),n.push(mr[0]);for(var Gr=1;Gr<mr.length;Gr+=2){var Yr=mr[Gr];!isNaN(Yr)&&n.indexOf(Yr)===-1&&n.push(Yr)}}return n},dt={analyze:ht,limits:gt},pt=C,ki=function(r,e){r=new pt(r),e=new pt(e);var a=r.luminance(),t=e.luminance();return a>t?(a+.05)/(t+.05):(t+.05)/(a+.05)},bt=C,br=Math.sqrt,j=Math.pow,_i=Math.min,xi=Math.max,mt=Math.atan2,yt=Math.abs,se=Math.cos,wt=Math.sin,Mi=Math.exp,$t=Math.PI,Ci=function(r,e,a,t,o){a===void 0&&(a=1),t===void 0&&(t=1),o===void 0&&(o=1);var f=function(Yr){return 360*Yr/(2*$t)},n=function(Yr){return 2*$t*Yr/360};r=new bt(r),e=new bt(e);var i=Array.from(r.lab()),l=i[0],c=i[1],g=i[2],y=Array.from(e.lab()),d=y[0],k=y[1],$=y[2],X=(l+d)/2,D=br(j(c,2)+j(g,2)),T=br(j(k,2)+j($,2)),z=(D+T)/2,ar=.5*(1-br(j(z,7)/(j(z,7)+j(25,7)))),er=c*(1+ar),ir=k*(1+ar),F=br(j(er,2)+j(g,2)),p=br(j(ir,2)+j($,2)),x=(F+p)/2,R=f(mt(g,er)),N=f(mt($,ir)),tr=R>=0?R:R+360,G=N>=0?N:N+360,L=yt(tr-G)>180?(tr+G+360)/2:(tr+G)/2,O=1-.17*se(n(L-30))+.24*se(n(2*L))+.32*se(n(3*L+6))-.2*se(n(4*L-63)),W=G-tr;W=yt(W)<=180?W:G<=tr?W+360:W-360,W=2*br(F*p)*wt(n(W)/2);var q=d-l,vr=p-F,_r=1+.015*j(X-50,2)/br(20+j(X-50,2)),xr=1+.045*x,Pr=1+.015*x*O,Br=30*Mi(-j((L-275)/25,2)),mr=2*br(j(x,7)/(j(x,7)+j(25,7))),Cr=-mr*wt(2*n(Br)),Gr=br(j(q/(a*_r),2)+j(vr/(t*xr),2)+j(W/(o*Pr),2)+Cr*(vr/(t*xr))*(W/(o*Pr)));return xi(0,_i(100,Gr))},kt=C,Yi=function(r,e,a){a===void 0&&(a="lab"),r=new kt(r),e=new kt(e);var t=r.get(a),o=e.get(a),f=0;for(var n in t){var i=(t[n]||0)-(o[n]||0);f+=i*i}return Math.sqrt(f)},Xi=C,Ni=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(Xi,[null].concat(r))),!0}catch{return!1}},_t=Z,xt=Ie,Ri={cool:function(){return xt([_t.hsl(180,1,.9),_t.hsl(250,.7,.4)])},hot:function(){return xt(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ce={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ze=0,Mt=Object.keys(ce);Ze<Mt.length;Ze+=1){var Ct=Mt[Ze];ce[Ct.toLowerCase()]=ce[Ct]}var Si=ce,rr=Z;rr.average=If,rr.bezier=jf,rr.blend=ii,rr.cubehelix=hi,rr.mix=rr.interpolate=at,rr.random=mi,rr.scale=Ie,rr.analyze=dt.analyze,rr.contrast=ki,rr.deltaE=Ci,rr.distance=Yi,rr.limits=dt.limits,rr.valid=Ni,rr.scales=Ri,rr.colors=Ba,rr.brewer=Si;var Di=rr;return Di})})(Nt);var Ke=Nt.exports;const Wi=()=>{const[E,h]=yr({width:window.innerHeight*window.devicePixelRatio,height:window.innerWidth*window.devicePixelRatio}),u=()=>{const v=window.innerHeight*window.devicePixelRatio,M=window.innerWidth*window.devicePixelRatio;h({width:M,height:v})};return Ar(()=>{u(),window.addEventListener("resize",u)}),Vr(()=>{window.removeEventListener("resize",u)}),[E,h]},qi=()=>{const[E,h]=yr(window.devicePixelRatio);let u;const v=()=>{h(window.devicePixelRatio),u&&(u.removeEventListener("change",v),u=void 0),u=window.matchMedia(`(resolution: ${E}dppx)`),u.addEventListener("change",v,{once:!0})};return Ar(()=>{v()}),Vr(()=>{u&&(u.removeEventListener("change",v),u=void 0)}),E};class Hi{constructor(){const[h,u]=yr([1,0,1]),[v,M]=yr([1,0,1]);[this.x,this.setX]=[h,u],[this.y,this.setY]=[v,M]}setAxisX(h,u,v){this.setX([h,u,v])}setAxisY(h,u,v){this.setY([h,u,v])}getDrawPositionX(h){const[u,v,M]=this.x();return v>M||v>u||M>u?[0,0]:[Math.round(h*(v/u)),Math.round(h*(M/u))]}getDrawPositionY(h){const[u,v,M]=this.y();return v>M||v>u||M>u?[0,0]:[Math.round(h*(v/u)),Math.round(h*(M/u))]}getXOfTotal(){const[h,u,v]=this.x();return(v-u)/h}getYOfTotal(){const[h,u,v]=this.y();return(v-u)/h}getProgressX(){const[h,,u]=this.x();return u/h}getProgressY(){const[h,,u]=this.y();return u/h}getRangeX(){const[,h,u]=this.x();return[h,u]}getRangeY(){const[,h,u]=this.y();return[h,u]}isHitScrollX(h,u){if(this.prevX){const[v,M,U,P]=this.prevX;return h>=v&&h<=v+U&&u>=M&&u<=M+P}else return!1}isHitScrollY(h,u){if(this.prevY){const[v,M,U,P]=this.prevY;return h>=v&&h<=v+U&&u>=M&&u<=M+P}else return!1}isHitScroll(h,u){return this.isHitScrollX(h,u)||this.isHitScrollY(h,u)}canScrollX(h){const[u,v,M]=this.x();return v+h<0?!1:!(M+h>u)}canScrollY(h){const[u,v,M]=this.y();return v+h<0?!1:!(M+h>u)}}function Ii(E){const[h,u]=yr(!1);let v=0;const M=H=>{v=requestAnimationFrame(M),E(H)},U=()=>{h()||(u(!0),v=requestAnimationFrame(M))},P=()=>{u(!1),cancelAnimationFrame(v)};return Vr(P),[h,U,P]}const Gi=Oi('<canvas class="draw-broad-canvas"></canvas>');let ge;(function(E){E[E.direct=0]="direct",E[E.stylus=1]="stylus"})(ge||(ge={}));let V;(function(E){E[E.hand=0]="hand",E[E.pen=1]="pen",E[E.erase=2]="erase"})(V||(V={}));class Vi{constructor(h,u){const[v,M]=yr(h);[this.color,this.setColor]=[v,M];const[U,P]=yr(u);[this.lineWidthFactor,this.setLineWidthFactor]=[U,P];const[H,nr]=yr(V.pen);[this.tool,this.setTool]=[H,nr],this.offscreen=document.createElement("canvas");const K=this.offscreen.getContext("2d");if(!K)throw new Error("unable get 2d context");this.ctx2d=K,this.scrollCtl=new Hi,this.isBufferDirty=!0,this.viewpointBufferRefreshNeeded=!1}setOffscreenSize([h,u]){this.offscreen.width=h,this.offscreen.height=u}resetCanvas(){this.ctx2d.clearRect(0,0,this.offscreen.width,this.offscreen.height),this.viewpointBufferRefreshNeeded=!0,this.isBufferDirty=!0}translateColor(h){return typeof h=="string"?h==="erase"?"white":h:h.hex()}draw(h){const u=this.ctx2d;if(u.lineCap="round",u.lineJoin="round",h.length<=0)return;const v=h.length-1;if(h.length>=3){const M=(h[v].x+h[v-1].x)/2,U=(h[v].y+h[v-1].y)/2;u.lineWidth=h[v-1].lineWidth,u.quadraticCurveTo(h[v-1].x,h[v-1].y,M,U),u.strokeStyle=Ke.mix(this.translateColor(h[v-1].color),this.translateColor(h[v].color)).hex(),u.stroke(),u.beginPath(),u.moveTo(M,U)}else{const M=h[v];u.lineWidth=M.lineWidth,u.strokeStyle=this.translateColor(M.color),u.beginPath(),u.moveTo(M.x,M.y),u.stroke()}this.isBufferDirty=!0}}const Ji=E=>{const h=zi({width:1280,height:720},E),u=h.ctl||new Vi("red",40),v=u.scrollCtl;let M,U,P,H,nr=!1,K=!1,hr=!1,fr=0,Q=[];const[zr]=Wi(),[ur,m]=yr(),I=()=>v.getRangeX()[0],gr=()=>v.getRangeY()[0],A=qi(),Or=s=>Ke("black").alpha(s?1:.5).hex(),dr=(s,b)=>{const w=Math.round(s?20:12),_=w+(s||b?0:2);return[w,_]},Ur=()=>{if(!!U)if(v.getXOfTotal()<1){const{width:s,height:b}=zr(),[w,_]=v.getDrawPositionX(s);U.fillStyle=Or(P);const[S,B]=dr(nr,P),Y=[w,b-B,_-w,S];v.prevX&&v.prevX!==Y&&U.clearRect(...v.prevX),U.fillRect(...Y),v.prevX=Y}else v.prevX=void 0},C=()=>{if(!!U)if(v.getYOfTotal()<1){const{width:s,height:b}=zr(),[w,_]=v.getDrawPositionY(b);U.fillStyle=Or(H);const[S,B]=dr(K,H),Y=[s-B,w,S,_-w];v.prevY&&v.prevY!==Y&&U.clearRect(...v.prevY),U.fillRect(...Y),v.prevY=Y}else v.prevY=void 0},Xr=()=>{if(!U)return;const s=U,b=u.offscreen;u.viewpointBufferRefreshNeeded&&(s.clearRect(0,0,M.width,M.height),u.viewpointBufferRefreshNeeded=!1),s.drawImage(b,I(),gr(),M.width,M.height,0,0,M.width,M.height),Ur(),C(),u.isBufferDirty=!1},[,Z]=Ii(()=>u.isBufferDirty?Xr():void 0),Zr=()=>{const{width:s,height:b}=zr();M.width=s,M.height=b,v.setX([u.offscreen.width,0,s]),v.setY([u.offscreen.height,0,b]),u.viewpointBufferRefreshNeeded=!0,u.isBufferDirty=!0},Jr=()=>{nr=!1,K=!1,P=void 0,H=void 0,hr=!1,Q=[],fr=0,pr(Q)},pr=function(s){const b=u.ctx2d;if(b.lineCap="round",b.lineJoin="round",s.length<=0)return;const w=s.length-1;if(s.length>=3){const _=(s[w].x+s[w-1].x)/2,S=(s[w].y+s[w-1].y)/2;b.lineWidth=s[w-1].lineWidth,b.quadraticCurveTo(s[w-1].x,s[w-1].y,_,S),b.strokeStyle=Ke.mix(u.translateColor(s[w-1].color),u.translateColor(s[w].color)).hex(),b.stroke(),b.beginPath(),b.moveTo(_,S)}else{const _=s[w];b.lineWidth=_.lineWidth,b.strokeStyle=u.translateColor(_.color),b.beginPath(),b.moveTo(_.x,_.y),b.stroke()}u.isBufferDirty=!0},de=s=>{if(s.touches.length===1){s.preventDefault();const b=s.touches[0],w=b.pageX*A(),_=b.pageY*A();if(v.isHitScrollX(w,_))nr=!0,P=w;else if(v.isHitScrollY(w,_))K=!0,H=_;else{const S=b.force>0?b.force:.1,B=w+I(),Y=_+gr();if(hr=!0,Q.push({x:B,y:Y,lineWidth:fr,color:u.tool()===V.erase?"erase":u.color()}),pr(Q),h.onStart){const J={x:B,y:Y,pressure:S,hasForce:!0};ur()&&(J.touch=he(ve({},b),{type:ur()})),h.onStart(Q,J)}}}},pe=s=>{if(s.button!==0)return;s.preventDefault();const b=s.pageX*A(),w=s.pageY*A();if(v.isHitScrollX(b,w))nr=!0,P=b;else if(v.isHitScrollY(b,w))K=!0,H=w;else{const S=b+I(),B=w+gr();if(hr=!0,fr=Math.log(1+1)*u.lineWidthFactor(),Q.push({x:S,y:B,lineWidth:fr,color:u.tool()===V.erase?"erase":u.color()}),pr(Q),h.onStart){const Y={x:S,y:B,pressure:1,hasForce:!1};h.onStart(Q,Y)}}},be=s=>{if(s.touches.length===1){s.preventDefault();const b=s.touches[0],w=b.pageX*A(),_=b.pageY*A(),S=nr,B=K;if(nr=typeof P=="number"||v.isHitScrollX(w,_),K=typeof H=="number"||v.isHitScrollY(w,_),(S!==nr||B!==K)&&(u.isBufferDirty=!0),P){s.preventDefault();const Y=Math.round((w-(P||0))*v.getXOfTotal()*A());v.canScrollX(Y)&&(v.setX(([J,or,wr])=>[J,or+Y,wr+Y]),u.isBufferDirty=!0,u.viewpointBufferRefreshNeeded=!0),P=w}else if(H){s.preventDefault();const Y=Math.round((_-(H||0))*v.getYOfTotal()*A());v.canScrollY(Y)&&(v.setY(([J,or,wr])=>[J,or+Y,wr+Y]),u.isBufferDirty=!0,u.viewpointBufferRefreshNeeded=!0),H=_}else if(hr){s.preventDefault();const Y=b.force>0?b.force:.1,J=w+I(),or=_+gr();if(fr=Math.log(Y+1)*u.lineWidthFactor()*.2+fr*.8,Q.push({x:J,y:or,lineWidth:fr,color:u.tool()===V.erase?"erase":u.color()}),pr(Q),h.onDrawing){const wr={x:J,y:or,pressure:Y,hasForce:!0};ur()&&(wr.touch=he(ve({},b),{type:ur()})),h.onDrawing(Q,wr)}}}},me=s=>{const b=s.pageX*A(),w=s.pageY*A(),_=nr,S=K;if(nr=typeof P=="number"||v.isHitScrollX(b,w),K=typeof H=="number"||v.isHitScrollY(b,w),(_!==nr||S!==K)&&(u.isBufferDirty=!0),P){s.preventDefault();const B=Math.round((b-(P||0))*v.getXOfTotal()*A());v.canScrollX(B)&&(v.setX(([Y,J,or])=>[Y,J+B,or+B]),u.isBufferDirty=!0,u.viewpointBufferRefreshNeeded=!0),P=b}else if(H){s.preventDefault();const B=Math.round((w-(H||0))*v.getYOfTotal()*A());v.canScrollY(B)&&(v.setY(([Y,J,or])=>[Y,J+B,or+B]),u.isBufferDirty=!0,u.viewpointBufferRefreshNeeded=!0),H=w}else if(hr){s.preventDefault();const B=1,Y=b+I(),J=w+gr();if(fr=Math.log(B+1)*u.lineWidthFactor()*.2+fr*.8,Q.push({x:Y,y:J,lineWidth:fr,color:u.tool()===V.erase?"erase":u.color()}),pr(Q),h.onDrawing){const or={x:Y,y:J,pressure:B,hasForce:!1};h.onDrawing(Q,or)}}},ye=s=>{if(s.touches.length===1){const b=s.touches[0],w=b.pageX*A(),_=b.pageY*A();if(P=void 0,H=void 0,hr){const S=b.force>0?b.force:.1;hr=!1,Q=[],fr=0,pr(Q);const B=w+I(),Y=_+gr();if(h.onEnd){const J={x:B,y:Y,pressure:S,hasForce:!0};ur()&&(J.touch=he(ve({},b),{type:ur()})),h.onEnd(J)}}}},Qr=s=>{const w=s.pageX*A(),_=s.pageY*A();P=void 0,H=void 0;const S=w+I(),B=_+gr();if(hr=!1,Q=[],fr=0,pr(Q),h.onEnd){const Y={x:S,y:B,pressure:1,hasForce:!1};h.onEnd(Y)}},jr=s=>{if(nr){s.preventDefault();const b=s.deltaY;v.canScrollX(b)&&(v.setX(([w,_,S])=>[w,_+b,S+b]),u.viewpointBufferRefreshNeeded=!0,u.isBufferDirty=!0)}else if(K){s.preventDefault();const b=s.deltaY;v.canScrollY(b)&&(v.setY(([w,_,S])=>[w,_+b,S+b]),u.viewpointBufferRefreshNeeded=!0,u.isBufferDirty=!0)}else if(s.shiftKey){if(s.preventDefault(),s.deltaX!==0){const b=s.deltaX;v.canScrollX(b)&&(v.setX(([w,_,S])=>[w,_+b,S+b]),u.viewpointBufferRefreshNeeded=!0,u.isBufferDirty=!0)}if(s.deltaY!==0){const b=s.deltaY;v.canScrollY(b)&&(v.setY(([w,_,S])=>[w,_+b,S+b]),u.viewpointBufferRefreshNeeded=!0,u.isBufferDirty=!0)}}},Kr=s=>{s.preventDefault();let b,w;if(typeof s.touches!="undefined")if(s.touches.length===1){const _=s.touches[0];b=_.pageX*A(),w=_.pageY*A()}else return;else b=s.pageX*A(),w=s.pageY*A();P=b,H=w},re=s=>{s.preventDefault();let b,w;if(typeof s.touches!="undefined")if(s.touches.length===1){const _=s.touches[0];b=_.pageX*A(),w=_.pageY*A()}else return;else b=s.pageX*A(),w=s.pageY*A();if(P){const _=-Math.round((b-(P||0))*v.getXOfTotal()*A());v.canScrollX(_)&&(v.setX(([S,B,Y])=>[S,B+_,Y+_]),u.isBufferDirty=!0,u.viewpointBufferRefreshNeeded=!0),P=b}if(H){const _=-Math.round((w-(H||0))*v.getYOfTotal()*A());v.canScrollY(_)&&(v.setY(([S,B,Y])=>[S,B+_,Y+_]),u.isBufferDirty=!0,u.viewpointBufferRefreshNeeded=!0),H=w}u.viewpointBufferRefreshNeeded=!0},ee=s=>{s.preventDefault(),P=void 0,H=void 0,u.isBufferDirty=!0},we=s=>{m(void 0),u.tool()===V.pen||u.tool()===V.erase?pe(s):u.tool()===V.hand&&Kr(s)},$e=s=>{const b=s.touches[0].touchType||"direct";m(b==="direct"?ge.direct:ge.stylus),u.tool()===V.pen||u.tool()===V.erase?de(s):u.tool()===V.hand&&Kr(s)},Wr=s=>{u.tool()===V.pen||u.tool()===V.erase?be(s):u.tool()===V.hand&&re(s)},ke=s=>{u.tool()===V.pen||u.tool()===V.erase?me(s):u.tool()===V.hand&&re(s)},ae=s=>{u.tool()===V.pen||u.tool()===V.erase?ye(s):u.tool()===V.hand&&ee(s)},_e=s=>{u.tool()===V.pen||u.tool()===V.erase?Qr(s):u.tool()===V.hand&&ee(s)},xe=s=>{if(h.onContextMenu){s.preventDefault();const b=s.pageX*A(),w=s.pageY*A(),_=b+I(),S=w+gr();h.onContextMenu({pageX:s.pageX,pageY:s.pageY,broadX:_,broadY:S,devicePixelRatio:A()})}};je(()=>{if(h.onTouchTypeChanged){const s=ur();s&&h.onTouchTypeChanged(s)}}),je(()=>{Zr()}),je(()=>{u.tool()===V.hand?M.style.cursor="grab":M.style.cursor="default"}),Ar(()=>{const s=M.getContext("2d");s?(U=s,s.strokeStyle="black"):console.error("browser does not support 2d context")}),Ar(()=>{const s=document.querySelector("body");s&&s.classList.add("draw-broad-body")}),Vr(()=>{const s=document.querySelector("body");s&&s.classList.remove("draw-broad-body")}),Ar(()=>Z());const qr=()=>{Zr()};return Ar(()=>{u.offscreen.addEventListener("resize",qr)}),Vr(()=>{u.offscreen.removeEventListener("resize",qr)}),(()=>{const s=Gi.cloneNode(!0);s.addEventListener("mouseleave",Jr),s.addEventListener("wheel",jr),s.$$contextmenu=xe,s.$$mouseup=_e,s.addEventListener("touchcancel",ae),s.$$touchend=ae,s.$$mousemove=ke,s.$$touchmove=Wr,s.$$mousedown=we,s.$$touchstart=$e;const b=M;return typeof b=="function"?b(s):M=s,s})()};Ai(["touchstart","mousedown","touchmove","mousemove","touchend","mouseup","contextmenu"]);export{V as D,Vi as a,Ji as b};
//# sourceMappingURL=index.c1adcc6d.js.map
